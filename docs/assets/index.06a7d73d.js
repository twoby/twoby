var ht=Object.defineProperty,bt=Object.defineProperties;var xt=Object.getOwnPropertyDescriptors;var G=Object.getOwnPropertySymbols;var ft=Object.prototype.hasOwnProperty,yt=Object.prototype.propertyIsEnumerable;var J=(t,e,n)=>e in t?ht(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,m=(t,e)=>{for(var n in e||(e={}))ft.call(e,n)&&J(t,n,e[n]);if(G)for(var n of G(e))yt.call(e,n)&&J(t,n,e[n]);return t},I=(t,e)=>bt(t,xt(e));import{R as o,H as vt,a as Et,b as A,L as _t,u as wt,c as Lt,r as M,O as Nt,_ as jt,T as It,d as St}from"./vendor.4442bc4a.js";const Pt=function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const a of s)if(a.type==="childList")for(const l of a.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&r(l)}).observe(document,{childList:!0,subtree:!0});function n(s){const a={};return s.integrity&&(a.integrity=s.integrity),s.referrerpolicy&&(a.referrerPolicy=s.referrerpolicy),s.crossorigin==="use-credentials"?a.credentials="include":s.crossorigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function r(s){if(s.ep)return;s.ep=!0;const a=n(s);fetch(s.href,a)}};Pt();const Tt=()=>{const t=[["default",{}]];return new Map(t.map(([e,n])=>[e,{options:n}]))},X=t=>Tt().get(t),$t="_examples_g5vhj_1",Ct="_main_g5vhj_2",Mt="_result_g5vhj_3",Rt="_intro_g5vhj_4",kt="_inputWrapper_g5vhj_5",Wt="_dropdown_g5vhj_6",Bt="_active_g5vhj_69",Ot="_item_g5vhj_73",qt="_outletWrapper_g5vhj_81",At="_equal_g5vhj_86",Ft="_worse_g5vhj_87",Ht="_better_g5vhj_88",Ut="_error_g5vhj_95",zt="_bytes_g5vhj_122";var d={examples:$t,main:Ct,result:Mt,intro:Rt,inputWrapper:kt,dropdown:Wt,active:Bt,item:Ot,outletWrapper:qt,equal:At,worse:Ft,better:Ht,error:Ut,bytes:zt};const Y=[...Array(8)].map((t,e)=>e.toString(3).padStart(2,"0")),S=(t,e=8,n="0")=>{const r=Math.ceil(t.length/e)*e,s=new RegExp(`.{${e}}`,"g");return t.padStart(r,n).match(s)||[]},F=t=>[...t].map(e=>e.toString(2)).join("2"),Z=t=>S(t,2,"2").map(n=>Y.indexOf(n).toString(2).padStart(3,"0")).join(""),tt=t=>S(t,8).map(n=>parseInt(n,2)),et=t=>S("1"+t,24).join(""),nt=t=>{const e=F(t),n=Z(e),r=et(n);return tt(r)},rt=t=>t.split("2").map(e=>parseInt(e,2)).filter(e=>!isNaN(e)),st=t=>S(t,3).map(e=>Y[parseInt(e,2)]),Dt=t=>st(t).join("").replace(/^2/,""),ot=t=>[...t].map(e=>e.toString(2).padStart(8,"0")).join(""),at=t=>{const e=1+t.indexOf("1");return t.slice(e)},B=t=>{const e=ot(t),n=at(e),r=Dt(n);return rt(r)},ct=(t,e=2)=>{const n=[...t].map(r=>S(r.toString(16),2)[0]).join("");return S(n,e,"")},O=t=>Uint8Array.from(t),lt=(t,{radix:e=10})=>{const n=t.map(r=>parseInt(r,e)).filter(r=>!isNaN(r));return O(n)},Kt=(t,e)=>{const{padLen:n=1,sep:r=" "}=e;if(n===0)return t.split(r);const s=S(t,n,""),a=r?t.split(r):s;return a.some(u=>n!==u.length)?null:a},Qt=({length:t},{length:e})=>!!t&&!!e&&t===e,H=(t,e)=>{const{radix:n=2,sep:r=" "}=e,s=new RegExp(`[${r}]+`,"g"),a=t.replace(s,r),u=`[^${new Map([[16,"a-f0-9"]]).get(n)||"0-"+(n-1)}${r}]`;if(a.match(u))return null;const h=Kt(a,e)||[],E=lt(h,{radix:n,sep:r});return Qt(h,E)?E:null},Vt=t=>{const[e,n,r]=[" ",0,2];return H(t,{sep:e,padLen:n,radix:r})},Gt=(t,e)=>H(t,I(m({},e),{radix:16})),Jt=t=>Gt(t,{padLen:2,sep:" "}),it=t=>{const e=O(nt(t)),n=O(B(e));return{twoby8:e,out8:n}},U=t=>t.replace(/^\w/,e=>e.toUpperCase()),z=(t,e=null)=>{const n=["worse","equal","better"][t];return e?e[n]:n},D=(t,e)=>{const{twoby8:n}=it(t),r=Math.sign(t.length-n.length);return z(r+1,e)},ut=t=>{const{text:e,setText:n,setLocal:r}=t,{validate:s,setInput:a}=t,l=!!s&&!!a,u=!l||!!s(e),h=l?b=>{const x=b.target.value,y=s(x);y?(a(y),n(null)):n(x),r(!y)}:void 0,E={className:d.bytes},P=I(m({},E),{value:e,onChange:h,maxRows:12,minRows:1}),w=s?o.createElement(It,m({},P)):o.createElement("div",m({},E),e),L=u?d.equal:d.error;return o.createElement("div",null,o.createElement("div",{className:L},t.label),w)},Xt=(t,e)=>{const n=ot(t);return e?n:at(n)},Yt=(t,e,n=1)=>t.map(r=>parseInt(r,2).toString(e).padStart(n,"0")).filter(r=>!isNaN(parseInt(r,e))),pt=(t,e=1)=>S(t.join(""),e).filter(n=>!isNaN(parseInt(n,3))),Zt=({padLen:t,numBits:e})=>{var s;const n=[[".*x24","byte triads"],[".*x8","bytes"],["1x1","bits"],["1x.*","digits"],["2x.*","pairs"],["3x.*","triads"]].map(([a,l])=>({regex:a,label:l})),r=`${t}x${e}`;return((s=n.find(({regex:a})=>r.match(new RegExp(a))))==null?void 0:s.label)||"???"},te=({radix:t,padLen:e,numBits:n})=>{const r=Zt({radix:t,padLen:e,numBits:n}),s=new Map([[2,"binary"],[3,"ternary"],[4,"base-4"],[8,"octal"],[16,"hex"]]).get(t)||"???";return{value:`${s}-${e}`,unit:r,base:s}},mt=(t,e,n=1)=>{if(t.length%n!=0||t.match(/22/)||t.match(/2$/))return null;const r=e?rt(t):B(tt(et(Z(t)))),s=nt(r);return B(s).join(",")!==r.join(",")?null:r},ee=({in8:t,twoby8:e,pad:n,choice:r})=>{const a=F(t).split("2").filter(g=>!!g);if(!r)return[["Input",a,Vt]];const{sep:l,radix:u,padLen:h,label:E,numBits:P}=r,w=u===3?16:(g=>g%1?1:g)(24/Math.log2(u)),L=Xt(e,n),b=S(L,P),x=(g,j)=>Yt(g,u,j);function y(g){return H(g,I(m({},this),{radix:u,sep:l}))}const T=y.bind({padLen:0}),N=y.bind({padLen:h}),{unit:f,base:v}=E,$=U(`${v} input`),W=U(`${v} ${f}`);if(u===3){const g=[...a].map(c=>["2",c]),j=[].concat(...g).slice(1),R=st(L);return[[$,pt(j,1),c=>{const p=c.split(" ");return p.map(i=>parseInt(i,3)).some(i=>isNaN(i))||p.slice(-1).includes("2")?null:p.map(i=>parseInt(i,2)).filter(i=>!isNaN(i))}],[W,pt(R,h),c=>{if(c.match(/ $/))return null;const p=c.replace(/ +/g,"");return n&&p.length%w?null:mt(p,n,h)}]]}return[[$,x(a,0),T],[W,x(b,h),g=>{const j=N(g);if(j){const R=F(j);return B(j),mt(R,n,1)}}]]},ne=t=>{var w,L;const e=!!t.choice;(L=(w=t.choice)==null?void 0:w.label)==null||L.value;const{label:n,choices:r,choose:s}=t,a=()=>{s(null)},l=({key:b})=>{s(r.find(({label:x})=>x.value===b)||null)},u="Explore Twoby encoding...",h=r.map(({label:b,radix:x},y)=>{const{value:T,unit:N,base:f}=b,v=U(`${f} ${N}`);return{unit:N,base:f,radix:x,key:T,label:v}}),P={placeholder:u,onSelect:l,items:h,match:(b,{base:x,radix:y,unit:T})=>{if(e)return!0;const N=`${y}`;return b.split(" ").some(f=>{const v=new RegExp("^"+f,"i");return T.match(v)||x.match(v)||N.match(v)})},onInput:a,dropdownClassName:d.dropdown,activeItemClassName:d.active,itemClassName:d.item};return o.createElement(jt,m({},P))},re=({results:t,steps:e})=>({results:new Map(t.map(n=>[n[0],n[1].join(n[2])])),steps:new Map(e.map((n,r)=>[n[0],n[1].join(" ")]))}),K=",",se=()=>{const{input:t}=m({input:""},wt()),e=Lt(),n=c=>{const _=`/${[...c].join(K)}`;e({pathname:_})},r=t.split(K),s=lt(r,{radix:10,sep:K}),a=D(s,{better:"\u2713 Encoding is shorter than input",worse:"\u2717 Encoding is longer than input",equal:"Encoding is same length as input"}),l=D(s,d),{twoby8:u,out8:h}=it(s),E=[["Input hex bytes",ct(s,2)," "],["Twoby hex bytes",ct(u,2)," "],["Integers",[...h],", "]],P=[{radix:2,padLen:3},{radix:2,padLen:8},{radix:3,padLen:2,bits:3},{radix:3,padLen:16,bits:24},{radix:4,padLen:12},{radix:8,padLen:8},{radix:16,padLen:6}].map(c=>{const{radix:p,padLen:_,bits:i}=c,C=i||Math.ceil(Math.log2(p**_)),k=te({radix:p,padLen:_,numBits:C});return I(m({},c),{label:k,numBits:C,sep:" "})}),[w,L]=M.exports.useState(!0),[b,x]=M.exports.useState(null),[y,T]=M.exports.useState(!1),N=ee({in8:s,twoby8:u,pad:w,choice:b}),[f,v]=M.exports.useState(re({results:E,steps:N})),$=c=>{T(c),!c&&v({steps:new Map([]),results:new Map([])})},W=c=>{$(!1),x(c)},g=()=>{$(!1),L(!w)},{padSymbol:j,padClass:R}=(c=>{const p={better:"\u2713"},_=z(c,d),i=z(c,p)||"\u2717";return{padClass:_,padSymbol:i}})(b?2*!!w:1);return o.createElement(o.Fragment,null,o.createElement("div",{className:d.intro},o.createElement("div",{className:l},a,"."),o.createElement("div",{className:d.result},E.map(([c,p,_],i)=>{const C=[...p].join(_),k=i?null:Jt,Q=f.results.get(c)||C,q={label:c,text:Q,setText:gt=>{v(I(m({},f),{results:new Map([...f.results,[c,gt]])}))},key:i,local:y,setLocal:$,validate:k,setInput:n};return o.createElement(ut,m({},q))})),o.createElement("h3",null,"Explore"),o.createElement("div",{className:d.result},N.map(([c,p,_],i)=>{const C=[...p].join(" "),k=f.steps.get(c)||C,V={label:c,text:k,setText:q=>{v(I(m({},f),{steps:new Map([...f.steps,[c,q]])}))},key:i,local:y,setLocal:$,validate:_,setInput:n};return o.createElement(ut,m({},V))}))),o.createElement("div",{className:d.main},o.createElement("div",{className:d.inputWrapper},o.createElement("label",null," Integer format "),o.createElement(ne,{choices:P,choice:b,choose:W}),o.createElement("button",{onClick:g,className:R},j," Padding")),o.createElement("div",{className:d.outletWrapper},o.createElement(Nt,null))))},oe=({inputs:t})=>o.createElement(o.Fragment,null,o.createElement("h3",null,"Examples"),o.createElement("div",{className:d.examples},t.map((e,n)=>{const r=O(e),s=D(r,d),a=e.join(", "),l=e.join(",");return o.createElement(_t,{key:n,className:s,to:`/${l}`},"[",a,"]")}))),dt=t=>{const e=o.createElement(se,null),n=o.createElement(oe,m({},t)),r=o.createElement("a",{href:"https://github.com/twoby/twoby"},"Twoby");return o.createElement(vt,{history},o.createElement("h2",null,r," (two-separated binary)"),o.createElement("div",null,o.createElement(Et,null,o.createElement(A,{path:"/",element:e},o.createElement(A,{path:":input",element:n}),";",o.createElement(A,{path:"",element:n}),";"))))};dt.defaultProps=I(m({},X("default")),{inputs:[[0,0,0,0]]});const ae=t=>t.getElementById("index"),ce=St.exports.createRoot(ae(document)),le=[[],...[...Array(27).keys()].map(t=>(2**t).toString(3).split("").map(n=>2**parseInt(n)))],ie=[X("default")];ce.render(M.exports.createElement("div",null,[...ie.map((t,e)=>{const n=I(m({},t),{inputs:le,key:e});return M.exports.createElement(dt,n)})]));
