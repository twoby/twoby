var xt=Object.defineProperty,yt=Object.defineProperties;var ft=Object.getOwnPropertyDescriptors;var J=Object.getOwnPropertySymbols;var _t=Object.prototype.hasOwnProperty,Et=Object.prototype.propertyIsEnumerable;var X=(t,e,n)=>e in t?xt(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,i=(t,e)=>{for(var n in e||(e={}))_t.call(e,n)&&X(t,n,e[n]);if(J)for(var n of J(e))Et.call(e,n)&&X(t,n,e[n]);return t},N=(t,e)=>yt(t,ft(e));import{R as a,_ as vt,T as wt,u as Lt,a as Nt,r as C,O as It,L as St,H as Pt,b as $t,c as q,d as jt}from"./vendor.697f3bc3.js";const Ct=function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const o of s)if(o.type==="childList")for(const l of o.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&r(l)}).observe(document,{childList:!0,subtree:!0});function n(s){const o={};return s.integrity&&(o.integrity=s.integrity),s.referrerpolicy&&(o.referrerPolicy=s.referrerpolicy),s.crossorigin==="use-credentials"?o.credentials="include":s.crossorigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function r(s){if(s.ep)return;s.ep=!0;const o=n(s);fetch(s.href,o)}};Ct();const Tt=()=>{const t=[["default",{}]];return new Map(t.map(([e,n])=>[e,{options:n}]))},Y=t=>Tt().get(t),kt="_main_1ugjs_1",Mt="_result_1ugjs_2",Rt="_intro_1ugjs_3",Wt="_inputWrapper_1ugjs_4",qt="_dropdown_1ugjs_5",Bt="_active_1ugjs_63",Ot="_item_1ugjs_67",zt="_outletWrapper_1ugjs_75",Ft="_fullWidth_1ugjs_91";var _={main:kt,result:Mt,intro:Rt,inputWrapper:Wt,dropdown:qt,active:Bt,item:Ot,outletWrapper:zt,fullWidth:Ft};const I=(t,e=8,n="0")=>{const r=Math.ceil(t.length/e)*e,s=new RegExp(`.{${e}}`,"g");return t.padStart(r,n).match(s)||[]},B=t=>[...t].map(e=>e.toString(2)).join("2"),Z=t=>I(t,2,"2").map(n=>parseInt(n,3).toString(2).padStart(3,"0")).join(""),tt=t=>I("1"+t,24).join(""),et=t=>I(t,8).map(n=>parseInt(n,2)),O=t=>{const e=B(t),n=Z(e),r=tt(n);return et(r)},nt=t=>[...t].map(e=>e.toString(2).padStart(8,"0")).join(""),rt=t=>{const e=1+t.indexOf("1");return t.slice(e)},st=t=>I(t,3).map(e=>parseInt(e,2).toString(3).padStart(2,"0")),At=t=>st(t).join("").replace(/^2/,""),ot=t=>t.split("2").map(e=>parseInt(e,2)).filter(e=>!isNaN(e)),M=t=>{const e=nt(t),n=rt(e),r=At(n);return ot(r)},z=t=>Uint8Array.from(t),at=(t,{radix:e=10})=>{const n=t.map(r=>parseInt(r,e)).filter(r=>!isNaN(r));return z(n)},ct=t=>{const e=z(O(t)),n=z(M(e));return{twoby8:e,out8:n}},Ut=(t,e)=>{const{padLen:n=1,sep:r=" "}=e;if(n===0)return t.split(r);const s=I(t,n,""),o=r?t.split(r):s;return o.some(c=>n!==c.length)?null:o},Ht=({length:t},{length:e})=>!!t&&!!e&&t===e,F=(t,e)=>{const{radix:n=2,sep:r=" "}=e,s=new RegExp(`[${r}]+`,"g"),o=t.replace(s,r),c=`[^${new Map([[16,"a-f0-9"]]).get(n)||"0-"+(n-1)}${r}]`,p=new RegExp(c,"g");if(o.match(p))return null;const f=Ut(o,e)||[],b=at(f,{radix:n,sep:r});return Ht(f,b)?b:null},Qt=t=>{const[e,n,r]=[" ",0,2];return F(t,{sep:e,padLen:n,radix:r})},Dt=(t,e)=>F(t,N(i({},e),{radix:16})),Kt=t=>Dt(t,{padLen:2,sep:" "}),lt=(t,e=2)=>{const n=[...t].map(r=>I(r.toString(16),2)[0]).join("");return I(n,e,"")},Vt=(t,e)=>{const n=nt(t);return e?n:rt(n)},Gt=(t,e,n=1)=>t.map(r=>parseInt(r,2).toString(e).padStart(n,"0")).filter(r=>!isNaN(parseInt(r,e))),ut=(t,e,n=1)=>{if(t.length%n!=0||t.match(/22/)||t.match(/2$/))return null;const r=e?ot(t):M(et(tt(Z(t)))),s=O(r);return M(s).join(",")!==r.join(",")?null:r},Jt=({in8:t,twoby8:e,out8:n})=>{const r=Kt;return[["Input hex bytes",lt(t,2)," ",r],["Twoby hex bytes",lt(e,2)," ",null],["Integers",[...n],", ",null]]},Xt=({in8:t,twoby8:e,pad:n,choice:r})=>{const o=B(t).split("2").filter(h=>!!h);if(!r)return[["Input",o," ",Qt]];const{sep:l,radix:c,padLen:p,label:f,numBits:b}=r,E=c===3?16:(h=>h%1?1:h)(24/Math.log2(c)),x=Vt(e,n),v=I(x,b),y=(h,P)=>Gt(h,c,P);function S(h){return F(h,N(i({},this),{radix:c,sep:l}))}const w=S.bind({padLen:0}),$=S.bind({padLen:p}),{unit:D,base:K,text:T,textInput:k}=f;if(c===3){const h=[...o].map(d=>["2",d]),P=[].concat(...h).slice(1),u=I(st(x).join(""),p);return[[k,P," ",d=>{const m=d.split(" ");return m.map(g=>parseInt(g,3)).some(g=>isNaN(g))||m.slice(-1).includes("2")?null:m.map(g=>parseInt(g,2)).filter(g=>!isNaN(g))}],[T,u," ",d=>{if(d.match(/ $/))return null;const m=d.replace(/ +/g,"");return n&&m.length%E?null:ut(m,n,p)}]]}return[[k,y(o,0)," ",w],[T,y(v,p)," ",h=>{const P=$(h);if(P){const u=B(P);return ut(u,n,1)}}]]},it=t=>t.replace(/^\w/,e=>e.toUpperCase()),Yt=({padLen:t,numBits:e})=>{var s;const n=[[".*x24","3x bytes"],[".*x8","bytes"],["1x1","bits"],["1x.*","digits"],["2x.*","pairs"],["3x.*","trios"]].map(([o,l])=>({regex:o,label:l})),r=`${t}x${e}`;return((s=n.find(({regex:o})=>r.match(new RegExp(o))))==null?void 0:s.label)||"???"},Zt=({radix:t,padLen:e,numBits:n})=>{const r=Yt({radix:t,padLen:e,numBits:n}),s=new Map([[2,"binary"],[3,"ternary"],[4,"base-4"],[8,"octal"],[16,"hex"]]).get(t)||"???",o=`${s}-${e}`,l=it(`${s} input`),c=it(`${s} ${r}`);return{value:o,unit:r,base:s,text:c,textInput:l}},te=t=>{const e=!!t.choice,{choices:n,choose:r}=t,{choiceStyles:s}=t,o=()=>{r(null)},l=({key:E})=>{r(n.find(({label:x})=>x.value===E)||null)},c="Explore Twoby encoding...",p=n.map(({label:E,radix:x})=>{const{value:v,unit:y,base:S,text:w}=E;return{unit:y,base:S,radix:x,key:v,label:w}}),f=(E,{base:x,radix:v,unit:y})=>{if(e)return!0;const S=`${v}`;return E.split(" ").some(w=>{const $=new RegExp("^"+w,"i");return y.match($)||x.match($)||S.match($)})},b=N(i({},s),{placeholder:c,onSelect:l,items:p,match:f,onInput:o});return a.createElement(vt,i({},b))},ee="_error_1r7kk_1",ne="_equal_1r7kk_2",re="_worse_1r7kk_3",se="_better_1r7kk_4",oe="_bytes_1r7kk_27";var A={error:ee,equal:ne,worse:re,better:se,bytes:oe};const pt=t=>{const{text:e,setText:n}=t,{validate:r,setInput:s}=t,o=!!r&&!!s,l=!o||!!r(e),c=o?x=>{const v=x.target.value,y=r(v);y?(s(y),n(null)):n(v)}:void 0,p={className:A.bytes},f=N(i({},p),{value:e,onChange:c,maxRows:12,minRows:1}),b=r?a.createElement(wt,i({},f)):a.createElement("div",i({},p),e),E=l?A.equal:A.error;return a.createElement("div",{className:t.cls},a.createElement("div",{className:E},t.label),b)},U=(t,e=null)=>{const n=["worse","equal","better"][t];return e?e[n]:n},mt=(t,e)=>{const{twoby8:n}=ct(t),r=Math.sign(t.length-n.length);return U(r+1,e)},H=",",ae=t=>{const{cacheText:e,setCacheText:n}=t,{input:r}=i({input:""},Lt()),s=Nt(),o=u=>{const m=`/${[...u].join(H)}`;s({pathname:m})},l=r.split(H),c=at(l,{radix:10,sep:H}),p=mt(c,{better:"\u2713 Encoding is shorter than input",worse:"\u2717 Encoding is longer than input",equal:"Encoding is same length as input"}),f=mt(c,_),{twoby8:b,out8:E}=ct(c),x=Jt({in8:c,twoby8:b,out8:E}),v=[{radix:2,padLen:3},{radix:2,padLen:8},{radix:3,padLen:2,bits:3},{radix:3,padLen:16,bits:24},{radix:4,padLen:12},{radix:8,padLen:8},{radix:16,padLen:6}].map(u=>{const{radix:d,padLen:m,bits:L}=u,g=L||Math.ceil(Math.log2(d**m)),j=Zt({radix:d,padLen:m,numBits:g});return N(i({},u),{label:j,numBits:g,sep:" "})}),[y,S]=C.exports.useState(!0),[w,$]=C.exports.useState(null),D=Xt({in8:c,twoby8:b,pad:y,choice:w}),K=u=>{n(new Map),$(u)},T=()=>{n(new Map),S(!y)},{padSymbol:k,padClass:h}=(u=>{const d={better:"\u2713"},m=U(u,_),L=U(u,d)||"\u2717";return{padClass:m,padSymbol:L}})(w?2*!!y:1),P={dropdownClassName:_.dropdown,activeItemClassName:_.active,itemClassName:_.item};return a.createElement(a.Fragment,null,a.createElement("div",{className:_.intro},a.createElement("div",{className:f},p,"."),a.createElement("div",{className:_.result},x.map(([u,d,m,L],g)=>{const j=[...d].join(m),R=e.get(u)||j,V=bt=>{n(new Map([...e,[u,bt]]))},W=g===x.length-1?_.fullWidth:null,ht={label:u,text:R,setText:V,key:g,validate:L,setInput:o,cls:W};return a.createElement(pt,i({},ht))})),a.createElement("h3",null,"Explore"),a.createElement("div",{className:_.result},D.map(([u,d,m,L],g)=>{const j=[...d].join(m),R=e.get(u)||j,G={label:u,text:R,setText:W=>{n(new Map([...e,[u,W]]))},key:g,validate:L,setInput:o};return a.createElement(pt,i({},G))}))),a.createElement("div",{className:_.main},a.createElement("div",{className:_.inputWrapper},a.createElement("label",null," Integer format "),a.createElement(te,{choiceStyles:P,choices:v,choice:w,choose:K}),a.createElement("button",{onClick:T,className:h},k," Padding")),a.createElement("div",{className:_.outletWrapper},a.createElement(It,null))))},ce="_error_3zubu_1",le="_equal_3zubu_2",ue="_worse_3zubu_3",ie="_better_3zubu_4",pe="_bytes_3zubu_27",me="_examples_3zubu_34";var dt={error:ce,equal:le,worse:ue,better:ie,bytes:pe,examples:me};const Q=t=>Uint8Array.from(t),de=t=>{const e=Q(O(t)),n=Q(M(e));return{twoby8:e,out8:n}},ge=(t,e=null)=>{const n=["worse","equal","better"][t];return e?e[n]:n},he=(t,e)=>{const{twoby8:n}=de(t),r=Math.sign(t.length-n.length);return ge(r+1,e)},be=t=>{const{inputs:e,clearCache:n}=t,r=()=>{n()};return a.createElement(a.Fragment,null,a.createElement("h3",null,"Examples"),a.createElement("div",{className:dt.examples},e.map((s,o)=>{const l=s.join(", "),c="/"+s.join(","),p=Q(s),f=he(p,dt),b={key:o,className:f,to:c,onClick:r};return a.createElement(St,i({},b),"[",l,"]")})))},gt=t=>{const[e,n]=C.exports.useState(new Map),r={cacheText:e,setCacheText:n},s=()=>n(new Map),o=N(i({},t),{clearCache:s}),l=a.createElement(ae,i({},r)),c=a.createElement(be,i({},o)),p=a.createElement("a",{href:"https://github.com/twoby/twoby"},"Twoby");return a.createElement(Pt,{history},a.createElement("h2",null,p," (two-separated binary)"),a.createElement("div",null,a.createElement($t,null,a.createElement(q,{path:"/",element:l},a.createElement(q,{path:":input",element:c}),";",a.createElement(q,{path:"",element:c}),";"))))};gt.defaultProps=N(i({},Y("default")),{inputs:[[0,0,0,0]]});const xe=t=>t.getElementById("index"),ye=jt.exports.createRoot(xe(document)),fe=[[],...[...Array(27).keys()].map(t=>(2**t).toString(3).split("").map(n=>2**parseInt(n)))],_e=[Y("default")];ye.render(C.exports.createElement("div",null,[..._e.map((t,e)=>{const n=N(i({},t),{inputs:fe,key:e});return C.exports.createElement(gt,n)})]));
