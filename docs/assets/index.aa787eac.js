var ht=Object.defineProperty,yt=Object.defineProperties;var _t=Object.getOwnPropertyDescriptors;var G=Object.getOwnPropertySymbols;var ft=Object.prototype.hasOwnProperty,xt=Object.prototype.propertyIsEnumerable;var J=(t,e,n)=>e in t?ht(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,u=(t,e)=>{for(var n in e||(e={}))ft.call(e,n)&&J(t,n,e[n]);if(G)for(var n of G(e))xt.call(e,n)&&J(t,n,e[n]);return t},q=(t,e)=>yt(t,_t(e));import{R as o,_ as wt,T as Et,u as vt,a as Nt,r as P,O as qt,L as Lt,s as $t,W as It,H as St,b as kt,c as R,d as Pt}from"./vendor.aeaabcf9.js";const Ct=function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const a of s)if(a.type==="childList")for(const l of a.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&r(l)}).observe(document,{childList:!0,subtree:!0});function n(s){const a={};return s.integrity&&(a.integrity=s.integrity),s.referrerpolicy&&(a.referrerPolicy=s.referrerpolicy),s.crossorigin==="use-credentials"?a.credentials="include":s.crossorigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function r(s){if(s.ep)return;s.ep=!0;const a=n(s);fetch(s.href,a)}};Ct();const Tt=()=>{const t=[["default",{}]];return new Map(t.map(([e,n])=>[e,{options:n}]))},X=t=>Tt().get(t),jt="_error_1k44q_1",Mt="_equal_1k44q_2",Rt="_worse_1k44q_3",Bt="_better_1k44q_4",Ot="_bytes_1k44q_36",Ft="_main_1k44q_49",Wt="_row_1k44q_50",zt="_result_1k44q_51",At="_wrapper_1k44q_52",Ut="_dropdown_1k44q_53",Ht="_center_1k44q_75",Dt="_right_1k44q_115",Vt="_item_1k44q_123",Kt="_active_1k44q_123";var b={error:jt,equal:Mt,worse:Rt,better:Bt,bytes:Ot,main:Ft,row:Wt,result:zt,wrapper:At,dropdown:Ut,center:Ht,right:Dt,item:Vt,active:Kt};const L=(t,e=8,n="0")=>{const r=Math.ceil(t.length/e)*e,s=new RegExp(`.{${e}}`,"g");return t.padStart(r,n).match(s)||[]},B=t=>[...t].map(e=>e.toString(2)).join("2"),Y=t=>L(t,2,"2").map(n=>parseInt(n,3).toString(2).padStart(3,"0")).join(""),Z=t=>L("1"+t,24).join(""),tt=t=>L(t,8).map(n=>parseInt(n,2)),et=t=>{const e=B(t),n=Y(e),r=Z(n);return tt(r)},nt=t=>[...t].map(e=>e.toString(2).padStart(8,"0")).join(""),rt=t=>{const e=1+t.indexOf("1");return t.slice(e)},st=t=>L(t,3).map(e=>parseInt(e,2).toString(3).padStart(2,"0")),Qt=t=>st(t).join("").replace(/^2/,""),ot=t=>t.split("2").map(e=>parseInt(e,2)).filter(e=>!isNaN(e)),O=t=>{const e=nt(t),n=rt(e),r=Qt(n);return ot(r)},F=t=>Uint8Array.from(t),at=(t,{radix:e=10})=>{const n=t.map(r=>parseInt(r,e)).filter(r=>!isNaN(r));return F(n)},ct=t=>{const e=F(et(t)),n=F(O(e));return{twoby8:e,out8:n}},Gt=(t,e)=>{const{padLen:n=1,sep:r=" "}=e;if(n===0)return t.split(r);const s=L(t,n,""),a=r?t.split(r):s;return a.some(c=>n!==c.length)?null:a},Jt=({length:t},{length:e})=>!!t&&!!e&&t===e,W=(t,e)=>{const{radix:n=2,sep:r=" "}=e,s=new RegExp(`[${r}]+`,"g"),a=t.replace(s,r),c=`[^${new Map([[16,"a-f0-9"]]).get(n)||"0-"+(n-1)}${r}]`,p=new RegExp(c,"g");if(a.match(p))return null;const x=Gt(a,e)||[],y=at(x,{radix:n,sep:r});return Jt(x,y)?y:null},Xt=t=>{const[e,n,r]=[" ",0,2];return W(t,{sep:e,padLen:n,radix:r})},Yt=(t,e)=>W(t,q(u({},e),{radix:16})),Zt=t=>Yt(t,{padLen:2,sep:" "}),lt=(t,e=2)=>{const n=[...t].map(r=>L(r.toString(16),2)[0]).join("");return L(n,e,"")},te=(t,e)=>{const n=nt(t);return e?n:rt(n)},ee=(t,e,n=1)=>t.map(r=>parseInt(r,2).toString(e).padStart(n,"0")).filter(r=>!isNaN(parseInt(r,e))),it=(t,e,n=1)=>{if(t.length%n!=0||t.match(/22/)||t.match(/2$/))return null;const r=e?ot(t):O(tt(Z(Y(t)))),s=et(r);return O(s).join(",")!==r.join(",")?null:r},ne=({in8:t,twoby8:e,out8:n})=>{const r=Zt;return[["Input hex bytes",lt(t,2)," ",r],["Twoby hex bytes",lt(e,2)," ",null],["Integers",[...n],", ",null]]},re=({in8:t,twoby8:e,pad:n,choice:r})=>{const a=B(t).split("2").filter(h=>!!h);if(!r)return[["Input",a," ",Xt]];const{sep:l,radix:c,padLen:p,label:x,numBits:y}=r,w=c===3?16:(h=>h%1?1:h)(24/Math.log2(c)),_=te(e,n),E=L(_,y),f=(h,I)=>ee(h,c,I);function $(h){return W(h,q(u({},this),{radix:c,sep:l}))}const v=$.bind({padLen:0}),S=$.bind({padLen:p}),{unit:D,base:V,text:C,textInput:T}=x;if(c===3){const h=[...a].map(d=>["2",d]),I=[].concat(...h).slice(1),i=L(st(_).join(""),p);return[[T,I," ",d=>{const m=d.split(" ");return m.map(g=>parseInt(g,3)).some(g=>isNaN(g))||m.slice(-1).includes("2")?null:m.map(g=>parseInt(g,2)).filter(g=>!isNaN(g))}],[C,i," ",d=>{if(d.match(/ $/))return null;const m=d.replace(/ +/g,"");return n&&m.length%w?null:it(m,n,p)}]]}return[[T,f(a,0)," ",v],[C,f(E,p)," ",h=>{const I=S(h);if(I){const i=B(I);return it(i,n,1)}}]]},z=(t,e=null)=>{const n=["worse","equal","better"][t];return e?e[n]:n},A=(t,e)=>{const{twoby8:n}=ct(t),r=Math.sign(t.length-n.length);return z(r+1,e)},ut=t=>t.replace(/^\w/,e=>e.toUpperCase()),se=({padLen:t,numBits:e})=>{var s;const n=[[".*x24","3x bytes"],[".*x8","bytes"],["1x1","bits"],["1x.*","digits"],["2x.*","pairs"],["3x.*","trios"]].map(([a,l])=>({regex:a,label:l})),r=`${t}x${e}`;return((s=n.find(({regex:a})=>r.match(new RegExp(a))))==null?void 0:s.label)||"???"},oe=({radix:t,padLen:e,numBits:n})=>{const r=se({radix:t,padLen:e,numBits:n}),s=new Map([[2,"binary"],[3,"ternary"],[4,"base-4"],[8,"octal"],[16,"hex"]]).get(t)||"???",a=`${s}-${e}`,l=ut(`${s} input`),c=ut(`${s} ${r}`);return{value:a,unit:r,base:s,text:c,textInput:l}},ae=t=>{const e=!!t.choice,{choices:n,choose:r}=t,{choiceStyles:s}=t,a=()=>{r(null)},l=({key:w})=>{r(n.find(({label:_})=>_.value===w)||null)},c="Explore Twoby encoding...",p=n.map(({label:w,radix:_})=>{const{value:E,unit:f,base:$,text:v}=w;return{unit:f,base:$,radix:_,key:E,label:v}}),x=(w,{base:_,radix:E,unit:f})=>{if(e)return!0;const $=`${E}`;return w.split(" ").some(v=>{const S=new RegExp("^"+v,"i");return f.match(S)||_.match(S)||$.match(S)})},y=q(u({},s),{placeholder:c,onSelect:l,items:p,match:x,onInput:a});return o.createElement(wt,u({},y))},ce="_error_qzuwl_1",le="_equal_qzuwl_2",ie="_worse_qzuwl_3",ue="_better_qzuwl_4",pe="_bytes_qzuwl_36";var U={error:ce,equal:le,worse:ie,better:ue,bytes:pe};const pt=t=>{const{text:e,setText:n}=t,{validate:r,setInput:s}=t,a=!!r&&!!s,l=!a||!!r(e),c=a?_=>{const E=_.target.value,f=r(E);f?(s(f),n(null)):n(E)}:void 0,p={className:U.bytes},x=q(u({},p),{value:e,onChange:c,maxRows:12,minRows:1}),y=r?o.createElement(Et,u({},x)):o.createElement("div",u({},p),e),w=l?U.equal:U.error;return o.createElement("div",{className:t.cls},o.createElement("div",{className:w},t.label),y)},H=",",me=t=>{const{cacheText:e,setCacheText:n}=t,{input:r}=u({input:""},vt()),s=Nt(),a=i=>{const m=`/${[...i].join(H)}`;s({pathname:m})},l=r.split(H),c=at(l,{radix:10,sep:H}),p=A(c,{better:"\u2713 Encoding is shorter than input",worse:"\u2717 Encoding is longer than input",equal:"Encoding is same length as input"}),x=A(c,b),{twoby8:y,out8:w}=ct(c),_=ne({in8:c,twoby8:y,out8:w}),E=[{radix:2,padLen:3},{radix:2,padLen:8},{radix:3,padLen:2,bits:3},{radix:3,padLen:16,bits:24},{radix:4,padLen:12},{radix:8,padLen:8},{radix:16,padLen:6}].map(i=>{const{radix:d,padLen:m,bits:N}=i,g=N||Math.ceil(Math.log2(d**m)),k=oe({radix:d,padLen:m,numBits:g});return q(u({},i),{label:k,numBits:g,sep:" "})}),[f,$]=P.exports.useState(!0),[v,S]=P.exports.useState(null),D=re({in8:c,twoby8:y,pad:f,choice:v}),V=i=>{n(new Map),S(i)},C=()=>{n(new Map),$(!f)},{padSymbol:T,padClass:h}=(i=>{const d={better:"\u2713"},m=z(i,b),N=z(i,d)||"\u2717";return{padClass:m,padSymbol:N}})(v?2*!!f:1),I={dropdownClassName:b.dropdown,activeItemClassName:b.active,itemClassName:b.item};return o.createElement(o.Fragment,null,o.createElement("div",{className:b.main},o.createElement("div",{className:b.row},o.createElement("div",{className:x},p,"."),o.createElement("div",{className:b.result},_.map(([i,d,m,N],g)=>{const k=[...d].join(m),j=e.get(i)||k,K=bt=>{n(new Map([...e,[i,bt]]))},M=g===_.length-1?b.fullWidth:null,gt={label:i,text:j,setText:K,key:g,validate:N,setInput:a,cls:M};return o.createElement(pt,u({},gt))}))),o.createElement("div",{className:b.row},o.createElement("h3",null,"Explore"),o.createElement("div",{className:b.result},D.map(([i,d,m,N],g)=>{const k=[...d].join(m),j=e.get(i)||k,Q={label:i,text:j,setText:M=>{n(new Map([...e,[i,M]]))},key:g,validate:N,setInput:a};return o.createElement(pt,u({},Q))}))),o.createElement("div",{className:b.wrapper},o.createElement("div",{className:b.center},o.createElement("span",null,"Integer format")),o.createElement(ae,{choiceStyles:I,choices:E,choice:v,choose:V}),o.createElement("div",{className:b.right},o.createElement("button",{onClick:C,className:h},T," Padding"))),o.createElement("div",{className:b.row},o.createElement(qt,null))))},de="_error_6ob8m_1",ge="_equal_6ob8m_2",be="_worse_6ob8m_3",he="_better_6ob8m_4",ye="_bytes_6ob8m_36",_e="_examples_6ob8m_49";var mt={error:de,equal:ge,worse:be,better:he,bytes:ye,examples:_e};const fe=t=>Uint8Array.from(t),xe=t=>{const{inputs:e,clearCache:n}=t,r=()=>{n()};return o.createElement(o.Fragment,null,o.createElement("h3",null,"Examples"),o.createElement("div",{className:mt.examples},e.map((s,a)=>{const l=s.join(", "),c="/"+s.join(","),p=fe(s),x=A(p,mt),y={key:a,className:x,to:c,onClick:r};return o.createElement(Lt,u({},y),"[",l,"]")})))},we="203220",Ee="f4f4ff",ve=["Tahoma","Verdana","sans-serif"],Ne=$t.div`
  font-family: ${ve.join(",")};
  grid-template-columns: minmax(66vw, auto);
  justify-content: space-evenly;
  grid-auto-rows: auto;
  display: grid;
`,qe=It`
  body {
    background-color: #${Ee};
    color: #${we};
  }
`,dt=t=>{const[e,n]=P.exports.useState(new Map),r={cacheText:e,setCacheText:n},s=()=>n(new Map),a=q(u({},t),{clearCache:s}),l=o.createElement(me,u({},r)),c=o.createElement(xe,u({},a)),p=o.createElement("a",{href:"https://github.com/twoby/twoby"},"Twoby");return o.createElement(St,{history},o.createElement(Ne,null,o.createElement("h2",null,p," (two-separated binary)"),o.createElement(kt,null,o.createElement(R,{path:"/",element:l},o.createElement(R,{path:":input",element:c}),";",o.createElement(R,{path:"",element:c}),";"))),o.createElement(qe,null))};dt.defaultProps=q(u({},X("default")),{inputs:[[0,0,0,0]]});const Le=t=>t.getElementById("index"),$e=Pt.exports.createRoot(Le(document)),Ie=[[],...[...Array(27).keys()].map(t=>(2**t).toString(3).split("").map(n=>2**parseInt(n)))],Se=[X("default")];$e.render(P.exports.createElement("div",null,[...Se.map((t,e)=>{const n=q(u({},t),{inputs:Ie,key:e});return P.exports.createElement(dt,n)})]));
